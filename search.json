[{"title":"MorphNet（1）—— docker 配置","url":"/2023/02/23/MorphNet%EF%BC%881%EF%BC%89%E2%80%94%E2%80%94-docker-%E9%85%8D%E7%BD%AE/","content":"关于docker一、failure由于经验不足，在linux端docker配置和nvidia-docker上吃了不少亏，没有详细看说明文档也导致实验进展缓慢，于是摸了摸docker，记录问题并给出个人理解。\n二、相关问题docker build -f Dockerfile -t tensorflow:1.15 \n\n-f\t指示Dockerfile位置\n-t&#x2F;-tag\t镜像的名字及标签，通常 name:tag 或者 name 格式；\n\nFROM 镜像源，由于是国外镜像源，build会出现无法解析的问题，需要进行换源处理，在daemon配置文件中加入下面的内容解决\n&quot;registry-mirrors&quot;:[&quot;https://registry.docker-cn.com&quot;]\n\n但 ln -s 软连接又不能运行了，后来解决了进入docker后通过 whtich python 发现没有python2版本，所以不能执行\n将软链接和pip3更新写入后发现还是无法执行，httpcommunicate超时，手动延长等待时间依旧失效，但又不能使用国外源（会导致上面FROM失效或者numpy等找不到对应版本），只能折中使用\nRUN pip3 install -i [国内源] --upgrade pip \n\n\n构建成功后使用\nnvidia-docker run -it --rm -v $(pwd):/mnt -p 5001:6006 tensorflow:1.15\n\n虽然nvidia-docker2等已经配置完成，依旧失败\n\n后来尝试使用sudo root权限下运行（因为发现nvidia-container-cli是root用户下包，普通docker用户无法访问），还是失败，出现无images错误，后通过以下指令发现root镜像和普通用户镜像是分开管理的\n\n于是在root用户下重新安装镜像，运行，成功\n\n但是貌似docker desktop并不能识别出root用户下的containers，images倒是可以，后面在看看啥情况。\n\n","categories":["MorphNet 分析"],"tags":["MorphNet","docker","ubuntu"]},{"title":"Android手机root指南","url":"/2023/02/22/Android%E6%89%8B%E6%9C%BAroot%E6%8C%87%E5%8D%97/","content":"本教程主要提供方法流程、相关概念和资源链接\n为什么要root？国内安卓手机的系统多不是原生android，手机厂商本地化系统的同时关闭了一些权限，也针对用户使用场景进行调度调整，出于利益考量对用户关闭了一部分功能。但如果你有以下几点需求，获取手机的root权限可能是你作为android用户的选择：\n\n从根本上解决广告问题\n解决手机发热降频问题（自定义手机的调度策略）\n实时检测手机的CPU、GPU占用率和内存使用情况和后台service占用\n锁定GPU&#x2F;CPU频率（这可能对研究牲做移动端实验而言是一个削减不确定因素的好处：你也不想实验跑到一半降频影响实验结果吧）\n\n机型选择要注意的是，虽然获取root权限有很多的好处，但出于安全性和植入广告营收的考量，部分厂商并不希望你这么做，它们不会给你提供官方的解BL锁，获取root权限的工具和机会。\n在这里强烈建议使用小米手机和三星手机（三星手机解锁会熔断安全芯片，是否要root请自行考量），不建议使用华为、荣耀、oppo、vivo等品牌。\n说明：没有官方解锁工具的品牌可以通过第三方工具强制解锁，但并不建议尝试，这种做法可能会让你喜提一块板砖。\n准备工具\nandroid手机\nUSB转type-C数据线\nwindows电脑\n\n这里重点提醒！！！在所有工作开始前，一定要记得进行数据备份，刷机过程会清除所有的数据\n获取root权限这里以小米手机为例\n1. 解BL（Bootloader）锁​\t1.1 进入开发者模式\n​\t\t设置 -&gt; 我的设备 -&gt; 全部参数与信息 ，狂点MIUI版本即可进入\n​\t1.2 申请解BL锁\n​\t\t小米公司要求所有申请解BL锁的手机都要对手机进行小米账号登陆，一个小米账号一年智能解锁两次。\n​\t\t进入开发者选项，插入sim卡且登陆小米账号的情况下进入“设备解锁状态”进行解锁申请\n​\t\t然后你需要等待一周的时间才能进行下一步\n​\t1.3 Bootloader解锁\n​\t\t从第三步开始\n​\t\t解锁会清除手机全部数据\n2. 提取手机当前版本的boot镜像​\t2.1 下载当前版本完整包\n​\t\t进入手机系统更新页，点击右上角三个点———下载最新完整包，然后将zip完整包传输到电脑上\n3. boot镜像修补​\t3.1 boot镜像提取\n​\t\t如果2.1 中zip完整包中已经有boot.img,跳过此步骤\n​\t\t提取镜像\n​\t\t将提取出来的镜像传输回手机\n​\t3.2 magisk安装\n​\t\tmagisk用于android手机root权限的获取和统一管理，是应用最广泛的root工具\n​\t\t手机下载安装Magisk app：Magisk-download （科学下载）\n​\t3.3 boot镜像修补\n​\t\t进入软件\n   1.安装 – 2.选项 **都不勾**（勾了会卡米，部分手机没有选项）- 3.选择并修补一个文件（选择3.1的镜像即可）\n\n​\t\t修补成功，会在 Download 目录生成（magisk_patched-版本_随机.img）文件，每次生成的随机字符都不一样，使用的时候请输入生成的名字，将其传输到电脑上\n4. boot镜像替换及固化​\t4.1 adb fastboot准备工作\n​\t\t电脑下载 adb-fastboot：lanzoub.com&#x2F;b02plghuh（解压出来）\n​\t\t将刚才magisk修补过的镜像（magisk_patched-版本_随机.img）移动到abd-fastboot文件夹下\n​\t4.2 镜像替换及固化\n​\t\t手机重启进入fastboot模式后连接电脑\n​\t\t打开“打开CMD命令行.bat”，输入下面的命令\n​\t\t这里和magisk官方文档有一定出入，对magisk进行了固化，具体原因是：\n​\t\t现在的手机多为A&#x2F;B分区两套boot.img（ boot.a 和 boot.b ）镜像共用一套fastboot引导，这样做的好处是系统更新时不用关机，系统可以正常工作，对a分区进行系统升级时系统内核切换到b分区运行，反之亦然，等下次重启时再对其进行分区切换。看上去没有什么问题，对吧？但如果我们还是使用单分区面具刷入方法：\n​\t\t fastboot flash boot magisk_patched-版本_随机.img\n​\t\t那么等下一次系统升级的时候你的root权限就会被遗忘在上一个镜像里，在不断的镜像升级中你的root权限就掉了\n​\t\t当然，如果以上的分区和固化问题没有听懂也没有关系，记得不要升级手机系统就不会出现上述问题\nfastboot flash boot.a magisk_patched-版本_随机.imgfastboot flash boot.b magisk_patched-版本_随机.img\n\n​\t\t成功后输入以下指令重启即可\nfastboot reboot\n\n​\t\t后面的文章中会介绍benchmark、解锁温控、自定义调度的相关操作\nhttps://nuaapeter.oss-cn-nanjing.aliyuncs.com/1786cdac12cc17e.jpg\n","categories":["摸一摸 Tensorflow Lite"],"tags":["android","root解锁","magisk"]}]